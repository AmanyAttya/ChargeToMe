<section class="bg-main-light shadow p-2 my-2 rounded-4">
    <h1 class="h2 text-main">Register Now:</h1>

    <form [formGroup]="registerForm" (ngSubmit)="registerSubmit()">
<div class="my-2">
    <label for="name">Name</label>
        <input  [ngClass]="{
           ' is-valid':!registerForm.get('name')?.errors && registerForm.get('name')?.touched,
           ' is-invalid': registerForm.get('name')?.errors && registerForm.get('name')?.touched
        }" formControlName='name' id="name" type="text" class="form-control">
       @if(registerForm.get('name')?.errors && registerForm.get('name')?.touched)
       {
        <div class="alert alert-danger w-50">
           @if(registerForm.get('name')?.getError('required')){
            <p class="m-0">Name Is Required </p>
           }@else if (registerForm.get('name')?.getError('minlength')) {
            <p class="m-0">Name should be more than 3 charctrs </p>

           }@else if (registerForm.get('name')?.getError('maxlength')) {
            <p class="m-0">Name should be Less than 3 charctrs</p>
           }

        </div>
       }

</div>

<div class="my-2">
    <label for="email">Email</label>
        <input formControlName='email' id="email" type="email" class="form-control" >
        @if(registerForm.get('email')?.errors && registerForm.get('email')?.touched )
        {
         <div class="alert alert-danger w-50">
            @if(registerForm.get('email')?.getError('required')){
             <p class="m-0">Email Is Required </p>
            }@else if (registerForm.get('email')?.getError('email')) {
             <p class="m-0">Enter Valied Email </p>
 
            }
             
             
         </div>
        }

</div>
<div class="my-2">
    <label for="password">Password</label>
        <input formControlName="password" id="password" type="password" class="form-control" >
        @if(registerForm.get('password')?.errors && registerForm.get('password')?.touched )
        {
         <div class="alert alert-danger w-50">
            @if(registerForm.get('password')?.getError('required')){
             <p class="m-0">password Is Required </p>
            }@else if (registerForm.get('password')?.getError('pattern')) {
             <p class="m-0">Enter Valied password </p>
 
            }
             
             
         </div>
        }


</div>
<div class="my-2">
    <label for="rePassword">Re-Password</label>
        <input id="rePassword" type="password" class="form-control" formControlName="rePassword">
        @if(registerForm.getError('mismatch') && registerForm.get('rePassword')?.touched)
        {
            <p class="alert alert-danger w-50">Password confirmation not correct</p>

        }


</div>
<div class="my-2">
    <label for="phone">Phone</label>
        <input  formControlName="phone" id="phone" type="tel" class="form-control">
        @if(registerForm.get('phone')?.errors && registerForm.get('phone')?.touched )
        {
         <div class="alert alert-danger w-50">
            @if(registerForm.get('phone')?.getError('required')){
             <p class="m-0">Phone Is Required </p>
            }@else if (registerForm.get('phone')?.getError('pattern')) {
             <p class="m-0">Enter Valied phone </p>
 
            }
             
             
         </div>
        }

</div>
<button [disabled]=" registerForm.invalid|| isLoading" type="submit" class="btn-main ms-auto d-block">Register
    @if (isLoading) 
    {
        <span> <i class="fas fa-spin fa-spinner"></i></span>
    }
</button>
        @if(megError)
        {
            <p class="alert alert-danger w-50 m-0">{{megError}}</p>
        }
        @if(msgSuccess){
            <p>Success</p>
        }
   
    </form>
</section>
